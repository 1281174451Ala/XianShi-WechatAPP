<!-- tabs栏 -->
<view class="nav">
  <!-- 第一个tab: 排序-->
  <view class="nav-item borders-right {{ sort ? 'active' : '' }}" bindtap="onSortActive">
    <view class="content">{{ sortData.label }}</view>
    <view class="icon dropdownIcon" />
  </view>
  <!-- 第二个tab: 委托类型 -->
  <view class="nav-item borders-right {{ task ? 'active' : '' }}" bindtap="onTaskActive">
    <view class="content">{{ taskData.label }}</view>
    <view class="icon dropdownIcon" />
  </view>
  <!-- 第三个tab:价格区间 -->
  <view class="nav-item borders-right {{ price ? 'active' : '' }}" bindtap="onPriceActive">
    <view class="content">{{ sortData.label }}</view>
    <view class="icon dropdownIcon" />
  </view>
</view>

<!-- 筛选栏展开后的背景蒙版 -->
<view class="mask" hidden="{{ !(sort || task || price) }}" style="top: {{ top }}" bindtap="closeFilter" />

<!-- 第1个图标对应的下拉列表 -->
<view class="filter {{ sort ? 'show' : 'hide' }} ">
  <block wx:for="{{ sortData.children }}" wx:key="unique">
    <view class="item {{ sortSelected === item.value ? 'active' : '' }}" data-group="{{ sortData }}" data-item="{{ item }}" bindtap="onSort">{{ item.label }}</view>
  </block>
</view>

<!-- 第2个图标对应的下拉列表 -->
<view class="filter {{ task ? 'show' : 'hide' }}">
  <block wx:for="{{ taskData.children }}" wx:key="unique">
    <view class="item {{ taskSelected === item.value ? 'active' : '' }}" data-group="{{ taskData }}" data-item="{{ item }}" bindtap="onTask">{{ item.label }}</view>
  </block>
</view>

<!-- 第3个图标对应的下拉列表 -->
<view class="filter {{ price ? 'show' : 'hide' }} ">
  <block wx:for="{{ sortData.children }}" wx:key="unique">
    <view class="item {{ priceSelected === item.value ? 'active' : '' }}" data-group="{{ priceData }}" data-item="{{ item }}" bindtap="onPrice">{{ item.label }}</view>
  </block>
</view>

<wxs module="common">
  module.exports = {
    selected: function (multiSelected, value) {
      for (var i = 0; i < multiSelected.length; i++) {
        if (multiSelected[i].value === value) {
          return true
        }
      }
      return false
    }
  }
</wxs>